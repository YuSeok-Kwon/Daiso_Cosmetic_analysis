# 다이소, '가성비'를 넘어 'K-뷰티 허브'로의 전환

## 프로젝트 개요

### 주제

다이소 뷰티의 지속 가능한 성장을 위해 **무엇이 성장을 돕고, 무엇이 리스크인가?** 를 분석하여 긍정적인 소비자 경험과 리스크 대응 전략을 수립한다.

### 목표

고객 리뷰 및 트렌드 데이터를 활용하여 수요를 예측하고, 브랜드 인지도와 수익성을 극대화하는 **데이터 기반의 유통 전략**을 수립한다.

---

## 배경 및 현황: 왜 지금 '신뢰'인가?

### 거시경제 및 소비 트렌드의 변화

- **3고(高)와 저성장의 고착화:** 2026년 대한민국 경제성장률 전망치는 0.7%로 하향 조정되었으며, 고물가·고금리·고환율이 일상화
- **소비 패턴의 이동 (YOLO → YONO):** "즐기는 소비(YOLO)"에서 "꼭 필요한 하나만 사는(YONO)" 시대로 전환. 실패 비용을 줄이기 위해 저가 제품으로 먼저 테스트하는 '리트머스 소비' 패턴 정착
- **다이소의 역할:** 소비자들이 3천 원짜리 제품으로 본품 구매 전 테스트를 수행하는 거대한 '실패 비용 제로 실험실'

### 다이소의 성장과 새로운 위기

| 구분        | 내용                                                                     |
| ----------- | ------------------------------------------------------------------------ |
| 외형적 성장 | 2023년 일본 지분 전량 매입, 2024년 영업이익 41.8% 급증, 매출 4조 원 시대 |
| 경쟁 환경   | C-커머스(알리, 테무 등)의 안전성 이슈로 기회 도래                        |
| 신뢰 위기   | '스텐 세정제 납 기준치 초과' 리콜 사태, 소비자 불만 1위는 '품질'         |

### 핵심 타겟: 외국인 + Gen Z

| 구분          | 특징                                                      |
| ------------- | --------------------------------------------------------- |
| Gen Z         | 스킨케어에 가장 큰 관심, '데일리케이션(Dailycation)' 추구 |
| 외국인 관광객 | K-뷰티 활성화, 기능성 화장품/비건/할랄 인증 제품에 관심   |
| MZ세대 영향력 | X세대까지 젊은이 문화를 수용하는 트렌드 확산              |

- 2025년 외국인 여행객 1,100만명 중 42%가 MZ세대
- 방한 외국인의 소비 1위 품목은 화장품(75.8%)
- SNS 검증 후 오프라인 구매 확인하는 패턴

### 국가별 K-뷰티 선호도

| 국가/지역                     | 선호 제품                      | 특징                         |
| ----------------------------- | ------------------------------ | ---------------------------- |
| 일본                          | 진정 케어, 저자극 제품         | 센텔라/시카 성분 선호        |
| 미국                          | 비타민C, 레티놀, AHA 토너      | 성분 투명성 중시, SNS 영향력 |
| 중국                          | 프리미엄 안티에이징, 고급 세트 | 윤기 나는 제품 선호          |
| 호주                          | 비건/클린뷰티                  | 미니멀 스킨케어 루틴 지향    |
| 동남아 (싱가포르, 말레이시아) | 겔 타입, 자외선차단제          | 가볍고 빠른 흡수, 습도 대응  |

---

## 문제 정의: 성장의 역설과 구조적 리스크

### 100% 매입 구조의 딜레마

- **리스크 전가 불가:** 다이소는 제품을 100% 매입하여 판매하므로, 품질/안전 사고의 책임과 재고 리스크를 본사가 온전히 부담
- **브랜드 타격:** 뷰티 제품 특성상 트러블 등 안전 이슈는 브랜드 전체의 신뢰도 하락으로 직결

### 핵심 문제

> 초저가 기반의 비즈니스 모델이 성장의 동력이었으나, 이제는 '품질 신뢰성' 확보에 걸림돌이 되고 있다.
> 2026년 다이소의 생존 전략은 **"초저가를 넘어 초신뢰로 가는 연착륙 전략"** 이어야 한다.

---

## 통합 솔루션: 데이터 기반 '연착륙(Soft Landing)' 전략

전체 솔루션은 **신뢰 확보(OCR) → 상품 최적화(감성분석) → 물류 효율화(GIS)** 의 3단계로 연결됩니다.

### [솔루션 1] 신뢰 구축: 고해상도 OCR 기반 '전성분 필터링 시스템'

- **현상:** 다이소 온라인몰의 제품 정보(ALT 텍스트)는 오탈자가 많고 성분 필터링이 불가능
- **실행:** 제품 이미지의 전성분을 고해상도 OCR로 인식 → 유해 성분 및 알러지 유발 물질 자동 필터링
- **기대:** '가격은 내리고, 품질(안전)은 올렸다'는 메시지 전달 및 ESG 경영 효과

### [솔루션 2] 상품 전략: 감성 분석을 통한 '연착륙 스킨케어' B2B 발굴

**연착륙(Soft Landing) 제품:** 6개월 이상 꾸준히 매출을 발생시키는 효자 상품 (전체 SKU의 9.2%, 매출의 24.8%)

| 분석 결과 | 내용                                                      |
| --------- | --------------------------------------------------------- |
| 카테고리  | 연착륙 제품의 83.3%는 스킨케어, 그중 75%가 5,000원 이하   |
| 선호 속성 | '미백/기능성'보다 '자극이 적고 발림성이 좋은 데일리 제품' |

- **실행:** 데이터로 증명된 '순한 데일리 스킨케어' 브랜드를 역으로 발굴하여 입점 제안

### [솔루션 3] 물류 전략: GIS 기반 Hub & Spoke (재고 심도 차별화)

- **Hub(관광 상권):** '연착륙 스킨케어 62종' 재고를 일반 대비 5~10배 깊게 배치
- **Spoke(거주 상권):** 다양한 제품을 테스트할 수 있도록 구색(Variety) 위주 진열

---

## 기대 효과

### 정량적 기대 효과

- **매출 증대:** 연착륙 제품군(62종)은 전체 매출의 약 24.8%를 견인. 집중 육성 및 물류 품절 방지로 약 1천억 원 이상의 매출 효과 기대
- **SKU 효율화:** 전체 제품의 9.2%에 불과한 고효율 연착륙 상품의 비중 확대로 재고 관리 효율 극대화

### 정성적 기대 효과

- **신뢰 회복:** OCR 전성분 필터링을 통해 '안전한 다이소' 이미지 구축 및 리스크 사전 방지
- **초격차 달성:** 단순 저가가 아닌 '검증된 품질'과 '최적화된 물류'를 통해 지속 성장 가능한 독보적인 유통 채널로 자리매김

---

## 프로젝트 구조

```
Why-pi/
├── Crawling/                   # 데이터 수집 시스템
│   ├── daiso_beauty_crawler.py # 메인 크롤러
│   ├── config.py               # 카테고리 설정
│   ├── modules/                # 재사용 모듈 (OCR, 성분 분석 등)
│   ├── scripts/                # 유틸리티 스크립트
│   │   ├── crawl_missing_products.py   # 누락 제품 크롤링
│   │   ├── crawl_missing_reviews.py    # 누락 리뷰 크롤링
│   │   ├── ingredient_rules_v1.py      # 성분명 정리 규칙 (1차)
│   │   ├── ingredient_rules_v2.py      # 성분명 정리 규칙 (2차)
│   │   ├── ingredient_rules_v3.py      # 성분명 정리 규칙 (3차)
│   │   ├── ingredient_rules_final.py   # 성분명 정리 규칙 (통합)
│   │   ├── merge_ingredient_csv.py     # 성분 CSV 병합
│   │   ├── merge_csv_to_parquet.py     # Parquet 변환
│   │   └── add_missing_ingredients.py  # 누락 성분 추가
│   └── tests/                  # 테스트 파일
│
├── RQ/                         # 리서치 질문 분석
│   ├── RQ1_재구매_핵심속성_분석.ipynb
│   ├── RQ2_저가_듀프_시장_분석.ipynb
│   ├── ABSA/                   # Aspect-Based Sentiment Analysis
│   │   ├── RQ/                 # ABSA 모델 코드
│   │   ├── scripts/            # ABSA 스크립트
│   │   ├── data/               # 학습 데이터
│   │   └── models/             # 모델 체크포인트
│   ├── results_RQ1/            # RQ1 분석 결과
│   ├── results_RQ2/            # RQ2 분석 결과
│   └── utils/                  # 유틸리티 함수
│
├── Notebook/                   # 분석 노트북
│   └── Feature_engineering.ipynb
│
├── Data/                       # 데이터 저장소
│   ├── csv/                    # CSV 파일
│   └── 서울시 외국인 밀집지역 분석/
│
├── Visualization/              # 시각화 결과
│
├── docs/                       # 문서
│   ├── ingredients/            # 성분명 정리 규칙 문서
│   ├── Story/                  # 스토리텔링 자료
│   ├── planning/               # 기획 문서
│   └── pdf/                    # PDF 자료
│
└── logs/                       # 로그 파일
```

---

## 데이터 수집 (Crawling)

다이소몰 뷰티 제품 데이터를 수집하는 크롤링 시스템

### 기술 스택

| 분류        | 기술                        |
| ----------- | --------------------------- |
| 크롤링      | Selenium, WebDriver Manager |
| OCR         | Naver Clova OCR, EasyOCR    |
| 이미지 처리 | OpenCV, PIL                 |
| 데이터 처리 | Pandas                      |
| 환경 관리   | python-dotenv               |

### 주요 기능

#### 1. 다중 소스 성분 추출

- 이미지 ALT 속성 추출
- OCR (Clova + EasyOCR) 교차 검증
- 신뢰도 기반 필터링

#### 2. 성분 파싱 고도화

- OCR 오인식 자동 교정 (소톱 -> 소듐, 글라이골 -> 글라이콜 등)
- 화학 성분 패턴 매칭 (에톡실레이트, 효소, 아미노산염 등)
- 500+ 성분 데이터베이스 매칭
- 농도/함량 괄호 자동 제거 (%, ppm, mg/kg 등)

#### 3. 할랄/비건 분석

- 동물 유래 성분 감지
- 할랄 금지 성분 체크
- 제품별 인증 가능 여부 판정

#### 4. 성분표 자동 감지

- OpenCV 기반 성분표 영역 자동 인식
- 긴 이미지 하단 크롭 (Clova OCR 1960px 제한 대응)
- 멀티 이미지 vs 싱글 이미지 분기 처리

---

## 사용 방법

### 1. 환경 설정

```bash
cd Crawling

# 의존성 설치
pip install -r requirements.txt

# 환경 변수 설정
cp .env.example .env
# .env 파일에 API 키 입력
```

`.env` 파일:

```env
# Naver Clova OCR API
CLOVA_OCR_URL=https://...
CLOVA_OCR_SECRET=your-secret-key
```

### 2. 메인 크롤러 실행

```bash
cd Crawling
python daiso_beauty_crawler.py
```

크롤링 옵션:

1. 제품 정보만
2. 제품 정보 + 리뷰
3. 제품 코드 + 성분만
4. 제품 코드 + 리뷰만
5. 전체 (제품 정보 + 리뷰 + 성분)

### 3. 누락 데이터 크롤링

```bash
cd Crawling

# 제품 정보 누락
python scripts/crawl_missing_products.py

# 리뷰 누락
python scripts/crawl_missing_reviews.py
```

### 4. 성분명 정리 규칙 적용

```bash
cd Crawling

# 1차 → 2차 → 3차 → 통합 순서로 적용
python scripts/ingredient_rules_v1.py
python scripts/ingredient_rules_v2.py
python scripts/ingredient_rules_v3.py
python scripts/ingredient_rules_final.py
```

### 5. 성분 감지 테스트

```bash
cd Crawling
python tests/test_ingredient_detection.py
```

---

## 출력 데이터

### 제품 정보

| 필드         | 설명                |
| ------------ | ------------------- |
| product_code | 제품 코드           |
| name         | 제품명              |
| price        | 가격                |
| brand        | 브랜드              |
| country      | 원산지              |
| can_halal    | 할랄 인증 가능 여부 |
| can_vegan    | 비건 인증 가능 여부 |
| likes        | 좋아요 수           |
| shares       | 공유 수             |

### 리뷰

| 필드         | 설명           |
| ------------ | -------------- |
| product_code | 제품 코드      |
| date         | 리뷰 작성일    |
| rating       | 평점           |
| text         | 리뷰 내용      |
| user_id      | 사용자 ID      |
| image_count  | 첨부 이미지 수 |

### 성분

| 필드         | 설명                    |
| ------------ | ----------------------- |
| product_code | 제품 코드               |
| ingredient   | 성분명                  |
| confidence   | 신뢰도 (0.0 ~ 1.0)      |
| source       | 추출 소스 (ALT, OCR 등) |
| is_vegan     | 비건 여부               |
| is_halal     | 할랄 여부               |

---

## 모듈 설명

### Crawling 모듈

| 모듈                          | 설명                                    |
| ----------------------------- | --------------------------------------- |
| `clova_ocr.py`                | 네이버 Clova OCR API 클라이언트         |
| `ingredient_detector.py`      | OpenCV 기반 성분표 영역 자동 감지       |
| `ingredient_parser.py`        | 성분 파싱 및 유효성 검증 (500+ 성분 DB) |
| `ingredient_postprocessor.py` | 정규표현식 + 사전 기반 성분 정제        |
| `halal_vegan_api.py`          | 할랄/비건 성분 분석                     |
| `halal_vegan_checker.py`      | 할랄/비건 인증 가능 여부 판정           |
| `certification_api.py`        | 외부 인증 API 연동                      |
| `ocr_utils_split.py`          | OCR 통합 유틸리티 (분할 OCR 지원)       |

### 성분명 정리 스크립트

| 스크립트                    | 설명                                  |
| --------------------------- | ------------------------------------- |
| `ingredient_rules_v1.py`    | 1차 규칙 - 기본 삭제/수정/분리 규칙   |
| `ingredient_rules_v2.py`    | 2차 규칙 - 세부 교정 사항 추가        |
| `ingredient_rules_v3.py`    | 3차 규칙 - 추측 복원 및 OCR 오류 교정 |
| `ingredient_rules_final.py` | 통합 규칙 - 최종 정리                 |
| `merge_ingredient_csv.py`   | 성분 CSV 파일 병합                    |

> 상세 규칙은 `docs/ingredients/성분명 정리 규칙.md` 참조

---

## ABSA (Aspect-Based Sentiment Analysis)

리뷰 데이터에서 속성별 감성을 분석하는 시스템

### 구조

```
RQ/ABSA/
├── RQ/                     # 핵심 모델 코드
│   ├── config.py           # 설정
│   ├── dataset.py          # 데이터셋 처리
│   ├── model.py            # 모델 정의
│   ├── train.py            # 학습
│   ├── inference.py        # 추론
│   └── evaluation.py       # 평가
├── scripts/                # 분석 스크립트
├── data/                   # 학습 데이터
│   ├── raw/                # 원본 데이터
│   └── processed/          # 전처리된 데이터
└── models/                 # 학습된 모델
```

### 주요 기능

- 리뷰에서 속성(Aspect) 추출
- 속성별 감성(Sentiment) 분류
- 긍정/부정 요인 분석

---

## 참고사항

- 크롤링 속도: 제품마다 상이 (리뷰 개수에 따라 편차)
- 로그 파일: `Crawling/logs/` 폴더에 자동 저장
- 캐시: `Crawling/cache/` 폴더 (EasyOCR 모델 등)
- 결과: `Data/csv/` 폴더에 CSV/Parquet 저장

## 문서

| 문서 경로                              | 설명                    |
| -------------------------------------- | ----------------------- |
| `docs/ingredients/성분명 정리 규칙.md` | 성분명 정리 규칙 상세   |
| `docs/ABSA 구조 정리.md`               | ABSA 시스템 구조 설명   |
| `docs/크롤링 시스템 설명서.md`         | 크롤링 시스템 상세 설명 |
| `docs/다이소화장품 시장분석 리포트.md` | 시장 분석 리포트        |
| `docs/파생변수.md`                     | 파생변수 정의           |

---

## 참고 자료

- [2025 외국인 관광객 통계 현황](https://www.lemonlab.pro/2025-%EC%99%B8%EA%B5%AD%EC%9D%B8-%EA%B4%80%EA%B4%91%EA%B0%9D-%ED%86%B5%EA%B3%84-%ED%98%84%ED%99%A9/)
- [K-Beauty 2026 글로벌 트렌드 및 외국인 선호도](https://kessence.kr/k-beauty-2026-global-trends-foreign-preferences/)
